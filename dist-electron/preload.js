import { contextBridge, ipcRenderer } from "electron";
console.log("Preload script starting...");
const electronAPI = {
  parsePSD: (filePath) => ipcRenderer.invoke("parse-psd", filePath)
};
if (typeof contextBridge !== "undefined") {
  try {
    contextBridge.exposeInMainWorld("electronAPI", electronAPI);
    console.log("electronAPI exposed via contextBridge");
  } catch (error) {
    console.error("Failed to expose electronAPI via contextBridge:", error);
    window.electronAPI = electronAPI;
    console.log("electronAPI set on window as fallback");
  }
} else {
  window.electronAPI = electronAPI;
  console.log("electronAPI set directly on window");
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlbG9hZC5qcyIsInNvdXJjZXMiOlsiLi4vZWxlY3Ryb24vcHJlbG9hZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb250ZXh0QnJpZGdlLCBpcGNSZW5kZXJlciB9IGZyb20gJ2VsZWN0cm9uJ1xuXG5leHBvcnQgdHlwZSBJRWxlY3Ryb25BUEkgPSB7XG4gIHBhcnNlUFNEOiAoZmlsZVBhdGg6IHN0cmluZykgPT4gUHJvbWlzZTxhbnk+XG59XG5cbmNvbnNvbGUubG9nKCdQcmVsb2FkIHNjcmlwdCBzdGFydGluZy4uLicpXG5cbmNvbnN0IGVsZWN0cm9uQVBJID0ge1xuICBwYXJzZVBTRDogKGZpbGVQYXRoOiBzdHJpbmcpID0+IGlwY1JlbmRlcmVyLmludm9rZSgncGFyc2UtcHNkJywgZmlsZVBhdGgpLFxufVxuXG4vLyBVc2UgY29udGV4dEJyaWRnZSBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBmYWxsIGJhY2sgdG8gd2luZG93XG5pZiAodHlwZW9mIGNvbnRleHRCcmlkZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gIHRyeSB7XG4gICAgY29udGV4dEJyaWRnZS5leHBvc2VJbk1haW5Xb3JsZCgnZWxlY3Ryb25BUEknLCBlbGVjdHJvbkFQSSlcbiAgICBjb25zb2xlLmxvZygnZWxlY3Ryb25BUEkgZXhwb3NlZCB2aWEgY29udGV4dEJyaWRnZScpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGV4cG9zZSBlbGVjdHJvbkFQSSB2aWEgY29udGV4dEJyaWRnZTonLCBlcnJvcilcbiAgICAvLyBGYWxsYmFjayB0byB3aW5kb3dcbiAgICA7KHdpbmRvdyBhcyBhbnkpLmVsZWN0cm9uQVBJID0gZWxlY3Ryb25BUElcbiAgICBjb25zb2xlLmxvZygnZWxlY3Ryb25BUEkgc2V0IG9uIHdpbmRvdyBhcyBmYWxsYmFjaycpXG4gIH1cbn0gZWxzZSB7XG4gIC8vIERpcmVjdCB3aW5kb3cgYXNzaWdubWVudFxuICA7KHdpbmRvdyBhcyBhbnkpLmVsZWN0cm9uQVBJID0gZWxlY3Ryb25BUElcbiAgY29uc29sZS5sb2coJ2VsZWN0cm9uQVBJIHNldCBkaXJlY3RseSBvbiB3aW5kb3cnKVxufSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBTUEsUUFBUSxJQUFJLDRCQUE0QjtBQUV4QyxNQUFNLGNBQWM7QUFBQSxFQUNsQixVQUFVLENBQUMsYUFBcUIsWUFBWSxPQUFPLGFBQWEsUUFBUTtBQUMxRTtBQUdBLElBQUksT0FBTyxrQkFBa0IsYUFBYTtBQUN4QyxNQUFJO0FBQ0Ysa0JBQWMsa0JBQWtCLGVBQWUsV0FBVztBQUMxRCxZQUFRLElBQUksdUNBQXVDO0FBQUEsRUFBQSxTQUM1QyxPQUFPO0FBQ2QsWUFBUSxNQUFNLG1EQUFtRCxLQUFLO0FBRXBFLFdBQWUsY0FBYztBQUMvQixZQUFRLElBQUksdUNBQXVDO0FBQUEsRUFBQTtBQUV2RCxPQUFPO0FBRUgsU0FBZSxjQUFjO0FBQy9CLFVBQVEsSUFBSSxvQ0FBb0M7QUFDbEQ7In0=
